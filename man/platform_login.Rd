% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/platform_login.R
\name{platform_login}
\alias{platform_login}
\title{Authenticate with MSAID Platform}
\usage{
platform_login(
  region = "eu-central-1",
  stage = "prod",
  endpoint = NULL,
  open_browser = TRUE
)
}
\arguments{
\item{region}{Character string. Region where the platform is deployed.
Default is 'eu-central-1'.}

\item{stage}{Character string. Environment stage to connect to. Must be one of:
\itemize{
  \item "prod" - Production environment (default)
  \item "dev" - Development environment
  \item "testing" - Testing environment
}}

\item{endpoint}{Character string or NULL. Custom API endpoint URL. If NULL (default),
the endpoint is automatically constructed based on region and stage parameters.
Format: "https://api.\{prefix\}.\{suffix\}.msaid.io"}

\item{open_browser}{Logical. Whether to automatically open the browser for authentication.
Default is TRUE. When FALSE, only prints the authentication URL.}
}
\value{
Invisible NULL. The function stores authentication tokens internally and does not return them directly.
  Success is indicated by the message "Login was successful".
}
\description{
Authenticates the user with the MSAID Platform mass spectrometry data analysis platform using OAuth/OIDC flow.
Opens a browser window for login, starts a local web server to receive the authentication
callback, and stores the access tokens for subsequent API calls. If a valid refresh token is available,
it will be used automatically to obtain new access tokens without requiring browser authentication.
}
\details{
The authentication process involves:
\enumerate{
  \item Check for existing valid refresh token and attempt automatic token refresh
  \item If no valid token exists, start a local web server on port 8000
  \item Open browser to login page with authorization request
  \item Wait for user to complete login and receive authorization code via redirect
  \item Exchange authorization code for access and refresh tokens
  \item Store tokens securely for use in subsequent API calls
}

For remote server usage (e.g., RStudio Server), ensure port 8000 is forwarded:
\code{ssh -L 8000:localhost:8000 <remote-server>}
}
\note{
Port 8000 must be available on localhost for the OAuth redirect to work properly.
  The function will fail if this port is already in use.
}
\examples{
\dontrun{
# Login to production environment (default)
platform_login()

# Login to production in a specific region
platform_login(region = "eu-central-1", stage = "prod")

# Login to development environment
platform_login(region = "eu-west-1", stage = "dev")

# Login with custom endpoint
platform_login(endpoint = "https://api.custom.msaid.io")

# Login without automatically opening browser
platform_login(open_browser = FALSE)
}

}
\seealso{
\code{\link{platform_logout}} for logging out,
  \code{\link{platform_set_debug}} for enabling debug output during authentication
}
